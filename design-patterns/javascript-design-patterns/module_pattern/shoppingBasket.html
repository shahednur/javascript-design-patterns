<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <script>
        var basketModule = (function() {
            // privates
            var basket = [];

            function doSomethingPrivate() {

            }

            function doSomethingElsePrivate() {

            }

            // Return an object exposed to the public
            return {
                // Add items to basket
                addItem: function(objValue) {
                    basket.push(objValue);
                },

                // Get the count of items in the basket
                getItemCount: function() {
                    return basket.length;
                },

                // Public alias to a private function
                doSomething: doSomethingPrivate,

                // Get the total value of items in the basket
                getTotal: function() {
                    var q = this.getItemCount(), p = 0;

                    while (q--) {
                        p += basket[q].price;
                    }

                    return p;
                }
            };
        })();

        basketModule.addItem({
            item: 'bread',
            price: 0.5
        });

        basketModule.addItem({
            item: 'butter',
            price: 0.3
        });

        console.log(basketModule.getItemCount());   // 2

        console.log(basketModule.getTotal());       // 0.8

        // Outputs: undefined
        // This is because the basket itself is not exposed as a part of our public API
        console.log( basketModule.basket );
        
        // This also won't work as it only exists within the scope of our basketModule closure, but not in the returned public object
        console.log( basket );
    </script>
</body>

</html>